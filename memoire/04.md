# 4. Phase d'initialisation et transfert de connaissance

> **Lecture jury — à retenir**
> - Objectif : être opérationnel en ≤ 4 mois (plateformes dev/test, outil tickets, rapport d'analyse, base de non‑régression).
> - Risques évités : démarrage “à l'aveugle”, dette technique non visible, premières livraisons à risque.
> - Réponse du titulaire : jalons, restitution, plateforme de test HD, lancement des scénarios de non‑régression.
> - Preuves : Chapitre 4 (rapport d'analyse), Annexe A.2 (tests NR), Annexe A.6 (pilotage/KPI).

La phase d'initialisation constitue un jalon déterminant dans la réussite de la TMA AQUAREEL. D'une durée maximale de **4 mois** (CCTP), elle vise à mettre le titulaire en capacité opérationnelle, avec une appropriation complète de l'application (fonctionnelle et technique), la mise en place des plateformes de travail, et la production d'un rapport d'analyse formalisant les constats et priorités.

L'objectif de cette phase est d'assurer un démarrage sécurisé, sans rupture, pour le Service Central Vigicrues, le SPC Grand Delta et les services utilisateurs.

## 4.1 Objectifs et enjeux de la phase d'initialisation

La phase d'initialisation poursuit les objectifs suivants :

1. **Appropriation technique et fonctionnelle** : comprendre les chaînes de bout en bout (collecte, stockage/affinage, exploitation, diffusion), les mécanismes d'alarmes et de supervision, et les contraintes d'exploitation du réseau.
2. **Appropriation du socle SQL Server** : maîtriser le modèle de données, les procédures, triggers et jobs, ainsi que les impacts volumétriques et de performance.
3. **Appropriation de la haute disponibilité** : maîtriser les mécanismes (réplication transactionnelle, bascule, supervision inter-sites) et les points de vigilance pour la maintenance.
4. **Mise en place des plateformes** : disposer d'une plateforme de développement et d'une plateforme de test distincte (dont une configuration HD minimale), ainsi que d'un système de suivi (tickets).
5. **Capitalisation et pilotage** : produire un rapport d'analyse structuré, incluant une première cartographie des risques, un backlog de dette technique initial, et une proposition d'axes de sécurisation (tests, outillage, pratiques).

## 4.2 Organisation générale de la phase d'initialisation

### 4.2.1 Durée et jalonnement

Le titulaire planifie la phase d'initialisation sur un **objectif de 12 semaines**, tout en respectant la contrainte maximale de **4 mois** prévue au CCTP. Le jalonnement ci-dessous est indicatif et adapté lors de la réunion de démarrage.

| Étape | Période cible | Objectif |
|-------|---------------|----------|
| **Étape 1** - Démarrage et présentation initiale | Semaine 1 | Séance de travail avec le SPC Grand Delta, cadrage des accès et des environnements |
| **Étape 2** - Appropriation documentaire et technique | Semaines 1 à 6 | Analyse de la documentation, du code et de la base, cartographie des zones critiques |
| **Étape 3** - Plateformes et outillage | Semaines 4 à 10 | Mise en place des environnements (dev/test) et du suivi (tickets) |
| **Étape 4** - Rapport d'analyse et restitution | Semaines 10 à 12 | Rapport d'analyse, restitution, validation de la phase |

### 4.2.2 Organisation mobilisée

Le titulaire est l'interlocuteur unique (chef de projet technique) et couvre l'ensemble des activités de la phase : pilotage, analyse SQL Server, revue des flux et des services, outillage, et mise en place des environnements.

Afin de sécuriser certains sujets spécifiques (revue .NET, packaging/install, points durs de performance), le titulaire peut mobiliser ponctuellement un **réseau de confiance** (collègue et sous-traitant identifiés), sous sa responsabilité, conformément aux dispositions du CCAP relatives à la sous-traitance.

## 4.3 Étape 1 : Présentation initiale et transfert de connaissance

### 4.3.1 Séance de travail de 2 jours avec le SPC Grand Delta

La phase d'initialisation démarre par une séance de travail de **2 jours** organisée par le SPC Grand Delta (responsable technique du projet).

**Jour 1 - Présentation fonctionnelle et exploitation**
- cas d'usage des SPC et des CVH, exigences de continuité de service ;
- démonstration de l'application (collecte, exploitation, alarmes, exports) ;
- principes d'exploitation (jours/heures ouvrés, procédures de secours, rôle des services utilisateurs).

**Jour 2 - Présentation technique**
- architecture (SOA, rôle central SQL Server), composants, interfaces ;
- haute disponibilité (réplication, bascule, supervision), flux et dépendances ;
- conventions de développement et de modélisation (MERISE, conventions SQL/C#).

### 4.3.2 Remise de la documentation et des sources

Au lancement de la phase, la maîtrise d'ouvrage met à disposition :
- code source et scripts associés (C#, SQL) ;
- documentation (exploitation, utilisateur, installation, modèle de données) ;
- éléments nécessaires à la compréhension des interfaces (protocoles et formats, selon le CCTP).

### 4.3.3 Passation (si applicable)

Si un titulaire sortant est identifié et si la maîtrise d'ouvrage l'autorise, le titulaire propose une passation ciblée (1 à 2 échanges) centrée sur :
- points de vigilance production, incidents récurrents, zones fragiles ;
- procédures de déploiement et de validation utilisées ;
- éléments utiles à la reprise des environnements (outillage, scripts, données de test).

## 4.4 Étape 2 : Analyse fonctionnelle et technique approfondie

### 4.4.1 Analyse de la documentation existante

Le titulaire réalise une lecture structurée de la documentation, avec un objectif double :
- **valider la compréhension** des processus (collecte/exploitation/diffusion, alarmes, supervision, HD) ;
- **identifier les écarts** (documentation incomplète, obsolète, ambiguë) afin de proposer un plan de mise à jour au fil des évolutions/corrections.

### 4.4.2 Analyse du code source

L'analyse du code vise à :
- reconstituer la cartographie des modules (services, clients, frontal, scripts d'installation) ;
- reconstruire la chaîne de build et les prérequis ;
- identifier les points de couplage forts avec la base (procédures, triggers, schémas) ;
- identifier les zones les plus critiques (collecte IP/radio, échanges, alarmes, supervision, bascule).

### 4.4.3 Analyse du socle SQL Server et des interfaces

L'analyse porte en priorité sur :
- le modèle de données (MERISE), les schémas, les conventions ;
- les procédures/vues/triggers/jobs et leurs dépendances ;
- la volumétrie et les mécanismes de purge/archivage ;
- la réplication transactionnelle et les contraintes associées ;
- les interfaces (IP, LoRaWAN, RTC/GSM, radio, imports/exports) et leurs points de contrôle.

### 4.4.4 Tests d'appropriation

Dès que les plateformes sont disponibles, le titulaire réalise des tests d'appropriation :
- compilation/exécution des modules dans un environnement conforme ;
- déploiement sur un environnement de test ;
- exécution de scénarios représentatifs (collecte, affinage, export, alarmes) ;
- mise en place d'un premier socle de tests automatisés de non-régression (scripts SQL et scénarios applicatifs) qui sera ensuite enrichi tout au long du marché.

## 4.5 Étape 3 : Installation des plateformes de travail

### 4.5.1 Plateforme de développement

Le titulaire met en place une plateforme de développement conforme aux exigences techniques AQUAREEL (Windows Server, SQL Server, Visual Studio, IIS, etc.), de préférence en environnement virtualisé.

L'objectif est de disposer :
- d'un environnement de développement stable (outillage, build, packaging) ;
- d'un environnement permettant de versionner et tracer les changements (Git) ;
- d'un socle d'automatisation (scripts de déploiement, scripts de tests SQL, exécution reproductible).

### 4.5.2 Plateforme de test

Conformément au CCTP, la plateforme de test reproduit **a minima** un fonctionnement d'ensemble en configuration HD :
- **2 sites de concentration** + **1 site de surveillance** ;
- réplication SQL Server et mécanismes de supervision/bascule ;
- exécution de scénarios de non-régression en configuration HD.

Les stations et le modem 3G mis à disposition par la maîtrise d'ouvrage sont intégrés à la plateforme de test. Pour les tests spécifiques radio, la plateforme de test du SPC Grand Delta à Privas est utilisée, accessible à distance.

### 4.5.3 Plateforme de suivi (tickets)

Le titulaire s'appuie en priorité sur l'outillage retenu par le Service Central Vigicrues (type Jira ou outil interne). À défaut, le titulaire propose un outil de suivi adapté (type Jira/Redmine), avec :
- gestion des tickets (support, anomalies, évolutions) ;
- workflow de qualification et de validation ;
- pièces jointes (rapports, livrables, comptes rendus) ;
- tableaux de bord (délais, volumétrie, consommation forfait support).

Un suivi interne complémentaire est maintenu sur GitHub pour la traçabilité des modifications (code, scripts SQL, exécution des tests).

## 4.6 Étape 4 : Rapport d'analyse et restitution

### 4.6.1 Contenu du rapport d'analyse

Le rapport d'analyse vise à rendre la phase d'initialisation vérifiable et actionnable. Il inclut a minima :
- synthèse exécutive (constats, risques, priorités) ;
- cartographie de l'architecture et des flux (dont HD) ;
- analyse du socle SQL Server (modèle, objets, jobs, réplication) ;
- cartographie des environnements (dev/test) et mode opératoire d'installation ;
- premières recommandations d'outillage et de tests de non-régression ;
- backlog initial (dette technique / risques / quick wins) et proposition de traitement.

### 4.6.2 Restitution

Le rapport est présenté lors d'une restitution (distanciel ou sur site selon décision MOA) :
- revue des constats et du backlog initial ;
- démonstration de la plateforme de test et des scénarios de non‑régression ;
- validation des modalités de démarrage du forfait support annuel.

### 4.6.3 Critères de validation de la phase d'initialisation

La validation repose principalement sur :
- disponibilité des plateformes (dev/test) et capacité à reproduire les scénarios attendus ;
- plateforme de suivi opérationnelle (accès, workflow, tableaux de bord) ;
- rapport d'analyse remis et compris (constats, risques, plan d'action) ;
- capacité démontrée à intervenir sans dégrader l'architecture existante.

## 4.7 Approche spécifique pour AQUAREEL

### 4.7.1 Architecture centrée SGBD

AQUAREEL s'appuie fortement sur SQL Server (logique en base, volumétrie, jobs, réplication). Le titulaire met à profit une expérience de plus de vingt ans sur SQL Server pour structurer l'analyse et sécuriser les interventions (performance, maintien des conventions, compatibilité réplication).

### 4.7.2 Haute disponibilité

La phase d'initialisation met un accent particulier sur :
- les dépendances entre services et la base en mode actif/passif ;
- les scénarios de bascule et les contrôles de cohérence ;
- la non‑régression en configuration HD.

### 4.7.3 Normes et conventions

Le titulaire reprend et respecte les conventions existantes (MERISE, conventions SQL, conventions C# et documentation), et propose au besoin des clarifications dans le rapport d'analyse pour éviter les ambiguïtés lors des évolutions ultérieures.

### 4.7.4 Anticipation des évolutions en cours

Le rapport d'analyse positionne les évolutions structurantes mentionnées au CCTP (migration client léger, dette technique, adaptation réseaux) et propose une lecture “risques/impacts/tests” afin de préparer la maintenance évolutive.

## 4.8 Gestion des risques de la phase d'initialisation

### 4.8.1 Risques identifiés et mesures d'atténuation

| Risque | Mesure d'atténuation |
|--------|----------------------|
| Volumétrie et complexité du SI (base + services + HD) | Approche progressive, priorisation des composants critiques, jalons de validation réguliers |
| Documentation incomplète/obsolète | Consolidation dans le rapport d'analyse + plan de mise à jour au fil de l'eau |
| Accès/environnements non disponibles au démarrage | Cadrage des prérequis dès la réunion de démarrage + planification adaptable |
| Contraintes de délai (4 mois max) | Jalonnement clair, focalisation sur le “minimum opérationnel” (plateformes + tests + rapport) |

### 4.8.2 Continuité des connaissances

La continuité des connaissances est assurée par :
- documentation structurée (runbooks, schémas, décisions) ;
- traçabilité systématique dans la plateforme de suivi ;
- revue ponctuelle par le réseau de confiance sur sujets sensibles (SQL/HD), si nécessaire ;
- capitalisation des scripts (installation, tests) pour assurer la reproductibilité.

## 4.9 Engagement sur la durée et les livrables

Le titulaire s'engage à conduire la phase d'initialisation **dans le délai maximal de 4 mois** fixé par le CCTP, avec un jalonnement permettant de sécuriser l'appropriation et la mise en place des environnements.

**Livrables attendus :**
1. Plateforme de développement opérationnelle et documentée ;
2. Plateforme de test opérationnelle, reproduisant au minimum une configuration HD ;
3. Plateforme de suivi (tickets) opérationnelle ;
4. Rapport d'analyse (format PDF et sources éditables).

## 4.10 Conclusion

La phase d'initialisation est traitée comme une prestation à part entière : elle produit des environnements, une base de tests de non‑régression, et un rapport d'analyse actionnable. Elle constitue le socle opérationnel des prestations de maintenance évolutive, corrective et d'exploitation tout au long du marché.
